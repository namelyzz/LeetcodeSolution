# é¢˜å•

[1757. å¯å›æ”¶ä¸”ä½è„‚çš„äº§å“](https://leetcode.cn/problems/recyclable-and-low-fat-products/)

[584. å¯»æ‰¾ç”¨æˆ·æ¨èäºº](https://leetcode.cn/problems/find-customer-referee/)

[595. å¤§çš„å›½å®¶](https://leetcode.cn/problems/big-countries/)

[1148. æ–‡ç« æµè§ˆ I](https://leetcode.cn/problems/article-views-i/)

[1683. æ— æ•ˆçš„æ¨æ–‡](https://leetcode.cn/problems/invalid-tweets/)

# é¢˜è§£

## [1757. å¯å›æ”¶ä¸”ä½è„‚çš„äº§å“](https://leetcode.cn/problems/recyclable-and-low-fat-products/)

```sql
SELECT product_id FROM Products
WHERE low_fats = 'Y' AND recyclable = 'Y'
```

## [584. å¯»æ‰¾ç”¨æˆ·æ¨èäºº](https://leetcode.cn/problems/find-customer-referee/)

```sql
select name
from Customer
where referee_id != 2 or referee_id is null
```

<aside> ğŸ’¡

æœç´¢ä¸ç­‰äºæ—¶ï¼Œnull å¹¶ä¸ä¼šè¢«åŒ¹é…ï¼Œé¢˜ç›®è€ƒéªŒçš„æ˜¯ `ifnull` çš„çŸ¥è¯†ç‚¹ã€‚è¿™é‡Œè¡¥å……å‡ ä¸ªçŸ¥è¯†ç‚¹

1. ä¸ºä»€ä¹ˆ `!=2` æ²¡æœ‰æŠŠ null ä¸€èµ·åŒ¹é…åˆ°ï¼Ÿ
   - åœ¨ SQL æ ‡å‡†ä¸­ï¼Œ`NULL`æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„å€¼ï¼Œä¸èƒ½ä½¿ç”¨æ™®é€šçš„æ¯”è¾ƒè¿ç®—ç¬¦ï¼ˆå¦‚`=`ã€`!=`ã€`>`ã€`<`ç­‰ï¼‰æ¥åˆ¤æ–­ä¸€ä¸ªå€¼æ˜¯å¦ä¸º`NULL`ã€‚`NULL`ä»£è¡¨ä¸€ä¸ªæœªçŸ¥çš„å€¼ã€‚å½“ä½ ä½¿ç”¨æ¯”è¾ƒè¿ç®—ç¬¦æ¥æ¯”è¾ƒ`NULL`æ—¶ï¼Œç»“æœæ€»æ˜¯æœªçŸ¥ï¼ˆæ—¢ä¸æ˜¯`true`ä¹Ÿä¸æ˜¯`false`ï¼‰
2. ä¸ºä»€ä¹ˆä½¿ç”¨ `is null` è€Œä¸æ˜¯ `= null` å‘¢ï¼Ÿ
   - `is null`æ˜¯ä¸“é—¨ç”¨äºæ£€æŸ¥ä¸€ä¸ªå€¼æ˜¯å¦ä¸º`NULL`çš„æ“ä½œç¬¦ã€‚è¿™æ˜¯å› ä¸º`NULL`ä»£è¡¨çš„æ˜¯ç¼ºå¤±æˆ–æœªçŸ¥çš„æ•°æ®ï¼Œå®ƒçš„è¯­ä¹‰ä¸å…¶ä»–å…·ä½“çš„å€¼ä¸åŒã€‚
   - `= null` ä¸Šä¸€ä¸ªé—®é¢˜ä¹Ÿè¯´äº†ï¼Œæ— æ³•ç”¨æ¯”è¾ƒè¿ç®—ç¬¦åˆ¤æ–­ null </aside>

## **595. å¤§çš„å›½å®¶**

```sql
select name, population, area
from World
where area >= 3000000 or population >= 25000000
```

## [1148. æ–‡ç« æµè§ˆ I](https://leetcode.cn/problems/article-views-i/)

```sql
select distinct author_id as id
from Views
where author_id = viewer_id
order by id
```

## **1683. æ— æ•ˆçš„æ¨æ–‡**

```sql
select tweet_id
from Tweets
where char_length(content) > 15
```

<aside> ğŸ’¡

ä¸ºä»€ä¹ˆä½¿ç”¨ char_length?å®ƒæ˜¯ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆä¸ç”¨ length

ç®€è€Œè¨€ä¹‹ï¼Œç”¨ length ä¹Ÿå¯ä»¥ï¼Œå› ä¸ºé¢˜ç›®è¯´äº† `content åªåŒ…å«ç¾å¼é”®ç›˜ä¸Šçš„å­—ç¬¦ï¼Œä¸åŒ…å«å…¶å®ƒç‰¹æ®Šå­—ç¬¦ã€‚`

ç”¨ char_length æ›´ç¬¦åˆè¯­ä¹‰ï¼Œå®ƒæ˜¯ç”¨æ¥ç»Ÿè®¡å­—ç¬¦çš„

> **å®šä¹‰**

å…ˆçœ‹ä¸¤è€…çš„å®šä¹‰

char_length

- `CHAR_LENGTH()`å‡½æ•°ç”¨äºè¿”å›å­—ç¬¦ä¸²çš„**å­—ç¬¦é•¿åº¦**ã€‚åœ¨ MySQL ä¸­ï¼Œä¸ç®¡å­—ç¬¦ä¸²ä¸­åŒ…å«çš„æ˜¯å•å­—èŠ‚å­—ç¬¦è¿˜æ˜¯å¤šå­—èŠ‚å­—ç¬¦ï¼Œ`CHAR_LENGTH()`éƒ½æ˜¯æŒ‰ç…§å­—ç¬¦çš„æ•°é‡æ¥è®¡ç®—é•¿åº¦ã€‚
- ä¾‹å¦‚ï¼Œå¯¹äºå­—ç¬¦ä¸²`'abc'`ï¼Œ`CHAR_LENGTH('abc')`ä¼šè¿”å›`3`ã€‚å¯¹äºåŒ…å«ä¸­æ–‡ï¼ˆå¤šå­—èŠ‚å­—ç¬¦ï¼‰çš„å­—ç¬¦ä¸²`'ä½ å¥½'`ï¼Œ`CHAR_LENGTH('ä½ å¥½')`ä¹Ÿä¼šè¿”å›`2`ï¼Œå› ä¸ºå®ƒæ˜¯æŒ‰ç…§å­—ç¬¦ä¸ªæ•°è®¡ç®—çš„ã€‚

length

- `LENGTH()`å‡½æ•°è¿”å›çš„æ˜¯å­—ç¬¦ä¸²çš„**å­—èŠ‚é•¿åº¦**ã€‚å¯¹äºå•å­—èŠ‚å­—ç¬¦é›†ï¼ˆå¦‚ ASCIIï¼‰ï¼Œ`LENGTH()`å’Œ`CHAR_LENGTH()`çš„ç»“æœæ˜¯ç›¸åŒçš„ã€‚ä½†å¯¹äºå¤šå­—èŠ‚å­—ç¬¦é›†ï¼ˆå¦‚ UTF - 8ï¼‰ï¼Œå®ƒä»¬çš„ç»“æœå¯èƒ½ä¸åŒã€‚
- ä¾‹å¦‚ï¼Œåœ¨ UTF - 8 å­—ç¬¦é›†ä¸­ï¼Œä¸€ä¸ªè‹±æ–‡å­—æ¯ï¼ˆå•å­—èŠ‚ï¼‰é•¿åº¦ä¸º`1`å­—èŠ‚ï¼Œä¸€ä¸ªä¸­æ–‡æ±‰å­—ï¼ˆé€šå¸¸æ˜¯ 3 å­—èŠ‚ï¼‰é•¿åº¦ä¼šæ›´é•¿ã€‚å¯¹äºå­—ç¬¦ä¸²`'abc'`ï¼Œ`LENGTH('abc')`åœ¨ UTF - 8 ä¸‹è¿”å›`3`ã€‚è€Œå¯¹äºå­—ç¬¦ä¸²`'ä½ å¥½'`ï¼Œ`LENGTH('ä½ å¥½')`åœ¨ UTF - 8 ä¸‹å¯èƒ½è¿”å›`6`ï¼ˆå‡è®¾æ¯ä¸ªæ±‰å­—æ˜¯ 3 å­—èŠ‚ï¼‰ã€‚

> **å­—ç¬¦é›†çš„å½±å“**

- `CHAR_LENGTH()`ä¸å—å­—ç¬¦é›†çš„å½±å“ï¼Œå®ƒåªå…³å¿ƒå­—ç¬¦çš„ä¸ªæ•°ã€‚
- `LENGTH()`çš„å€¼ä¼šæ ¹æ®å­—ç¬¦é›†çš„ç¼–ç æ–¹å¼è€Œå˜åŒ–ã€‚ä¾‹å¦‚ï¼Œåœ¨ UTF - 8 ä¸­ï¼Œæ±‰å­—å¯èƒ½å ç”¨ 3 å­—èŠ‚ï¼Œåœ¨ GBK ä¸­ï¼Œæ±‰å­—å¯èƒ½å ç”¨ 2 å­—èŠ‚ã€‚å¦‚æœæ”¹å˜äº†è¡¨çš„å­—ç¬¦é›†æˆ–è€…å­—ç¬¦ä¸²çš„å­—ç¬¦é›†ï¼Œ`LENGTH()`çš„ç»“æœå¯èƒ½ä¼šæ”¹å˜ï¼Œè€Œ`CHAR_LENGTH()`åªè¦å­—ç¬¦çš„æ•°é‡ä¸å˜ï¼Œç»“æœå°±ä¸ä¼šæ”¹å˜ã€‚

> **åº”ç”¨åœºæ™¯**

- å½“ä½ éœ€è¦ç»Ÿè®¡ä¸€æ®µæ–‡æœ¬å®é™…åŒ…å«çš„å­—ç¬¦ä¸ªæ•°ï¼Œæ¯”å¦‚è®¡ç®—æ–‡ç« çš„å­—æ•°ï¼ˆä¸ç®¡æ˜¯ä¸­æ–‡ã€è‹±æ–‡è¿˜æ˜¯å…¶ä»–å­—ç¬¦ï¼‰ï¼Œåº”è¯¥ä½¿ç”¨

  ```
  CHAR_LENGTH()
  ```

  ã€‚

  - ä¾‹å¦‚ï¼Œä¸€ä¸ªåšå®¢æ–‡ç« å†…å®¹å­˜å‚¨åœ¨`content`åˆ—ä¸­ï¼Œè¦ç»Ÿè®¡æ–‡ç« çš„å­—ç¬¦æ•°å¯ä»¥ä½¿ç”¨`SELECT CHAR_LENGTH(content) FROM blog_posts;`ã€‚

- å½“ä½ éœ€è¦å¤„ç†å­˜å‚¨æˆ–è€…ä¼ è¾“ç›¸å…³çš„æ•°æ®é‡é—®é¢˜ï¼Œæ¯”å¦‚ä¼°è®¡å­˜å‚¨ä¸€æ®µå­—ç¬¦ä¸²æ‰€éœ€çš„å­—èŠ‚ç©ºé—´æ—¶ï¼Œåº”è¯¥ä½¿ç”¨

  ```
  LENGTH()
  ```

  ã€‚

  - ä¾‹å¦‚ï¼Œåœ¨è®¾è®¡æ•°æ®åº“å­˜å‚¨å®¹é‡æˆ–è€…ç½‘ç»œä¼ è¾“æ•°æ®é‡æ—¶ï¼Œè¦çŸ¥é“å­˜å‚¨ä¸€ä¸ªç”¨æˆ·åï¼ˆå¯èƒ½åŒ…å«ä¸­æ–‡ç­‰ä¸åŒå­—ç¬¦ï¼‰æ‰€å ç”¨çš„å­—èŠ‚æ•°ï¼Œå¯ä»¥ä½¿ç”¨`SELECT LENGTH(username) FROM users;`ã€‚ </aside>